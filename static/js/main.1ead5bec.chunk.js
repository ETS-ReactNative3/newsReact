(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{258:function(e,t,n){e.exports=n(473)},263:function(e,t,n){},352:function(e,t,n){},469:function(e,t,n){},473:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(26),s=n.n(i),o=(n(263),n(27)),c=n.n(o),l=n(39),u=n(20),h=n(21),p=n(23),m=n(22),g=n(24),d="https://newsapi.org/v2/top-headlines?pageSize=20&country=";function f(e){return b.apply(this,arguments)}function b(){return(b=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(d+t+"&apiKey=33fdb4b7ff7d469f9e847ea010036db2").then(function(e){return e.json()}).then(function(e){return e.articles}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var w=n(40),v=n(88),y=n.n(v),E=n(89),j=n.n(E),O=n(87),S=n.n(O),C=n(135),k=n.n(C),x=n(90),I=n.n(x),N=n(91),R=n.n(N),W=n(29),T=n.n(W),A=n(17),U=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.component},r.a.createElement(T.a,{className:e.root,elevation:1},r.a.createElement(S.a,{onClick:this.props.handleRefresh},"Reload"),r.a.createElement(y.a,{className:"news-container",style:{marginLeft:"auto",marginRight:"auto"},cols:4},this.props.articles.filter(function(e){return"s"===e.url.split("")[4]}).map(function(e,t){var n=e.urlToImage;return r.a.createElement(j.a,{key:"".concat(t).concat(e.urlToImage)},null!==e.urlToImage?r.a.createElement("img",{className:"articleImage",srcSet:"".concat(n,",\n                                                ").concat("/newsReact","/loading_icon.gif"),src:"".concat("/newsReact","/loading_icon.gif"),alt:e.title.slice(0,15)}):r.a.createElement("img",{className:"articleImage",src:"/newsReact/news.jpg",alt:e.title.slice(0,15)}),r.a.createElement(I.a,{title:e.title,subtitle:r.a.createElement("span",null,"by: ",e.author),actionIcon:r.a.createElement("a",{href:e.url},r.a.createElement(R.a,{children:k.a,className:"infoButton"},r.a.createElement(k.a,null)))}))}))))}}]),t}(a.Component),F=Object(A.withStyles)(function(e){return{root:Object(w.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),component:{margin:"20px"}}})(U),D=(n(352),function(e){return"https://api.openweathermap.org/data/2.5/weather?lat=".concat(e.lat,"&lon=").concat(e.long,"&APPID=").concat("b803d56e862aa50c97aeeb756a9399e0","&lang=").concat(navigator.language,"&units=metric")});function B(e){return P.apply(this,arguments)}function P(){return(P=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(D(t)).then(function(e){return e.json()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var V=n(92),L=n.n(V),z=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.classes;return null!==this.props.weather?r.a.createElement("div",{className:e.weatherWidget},r.a.createElement(T.a,{className:e.root,elevation:1},r.a.createElement("div",null,r.a.createElement(L.a,{variant:"h5",component:"p"},r.a.createElement("span",{className:e.weatherTitle},"Weather in ",this.props.weather.name)),r.a.createElement("div",{className:e.weatherInfo},r.a.createElement("div",{className:e.weatherText},r.a.createElement("span",null," ",this.props.weather.weather[0].description," "),r.a.createElement("span",null," ",this.props.weather.main.temp," ")),r.a.createElement("img",{src:"http://openweathermap.org/img/w/"+this.props.weather.weather[0].icon+".png",alt:"weatherIcon"}))))):r.a.createElement("h1",null,"no weather")}}]),t}(a.Component),M=Object(A.withStyles)(function(e){return{root:Object(w.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),weatherWidget:{display:"flex",justifyContent:"center"},weatherInfo:{display:"flex",justifyContent:"center",alignItems:"center"},weatherText:{display:"flex",flexDirection:"column"},weatherTitle:{margin:"0px"}}})(z),K=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={weather:null,refreshing:!1,location:{lat:null,long:null}},n.handleWRefresh=function(){n.setState({refreshing:!0},function(){return n.fetchWeather()})},n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getLocation()}},{key:"getLocation",value:function(){var e=this;"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(t){e.setState({location:{lat:t.coords.latitude,long:t.coords.longitude}}),e.fetchWeather()}):this.setState({location:12})}},{key:"fetchWeather",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(this.state.location).then(function(e){t.setState({weather:e,refreshing:!1})}).catch(function(e){return t.setState({refreshing:!1},console.error(e.message))});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(M,{handleWRefresh:this.handleWRefresh,weather:this.state.weather}))}}]),t}(a.Component),J=n(44),Q=n.n(J),Y=r.a.createContext(),Z=Y.Consumer,_=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={signInError:null,user:null,signing:null,signIn:function(e,t){n.setState({signing:!0}),Object(J.auth)().signInWithEmailAndPassword(e,t).catch(function(e){return n.setState({signInError:e,signing:!1})})},signOut:function(){return Object(J.auth)().signOut()},signUp:function(e,t){return Object(J.auth)().createUserWithEmailAndPassword(e,t)}},n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=Object(J.auth)().onAuthStateChanged(function(t){return e.setState({user:t,signing:!1})})}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"render",value:function(){return r.a.createElement(Y.Provider,{value:this.state},this.props.children)}}]),t}(a.Component);function q(e){function t(t){return r.a.createElement(Z,null,function(n){return r.a.createElement(e,Object.assign({},t,n))})}return t.displayName="UserAware(".concat(e.displayName||e.name||"Component",")"),t}var G=n(53),$=n(41),H=n.n($),X=n(54),ee=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleChange=function(e){n.setState(Object(G.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.props.signIn(n.state.username,n.state.password)},n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.signInForm},r.a.createElement(T.a,{className:e.root,elevation:1},r.a.createElement("h2",null,"Sign in"),this.props.signInError&&r.a.createElement("p",null,this.props.signInError.message),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(H.a,{error:!!this.props.signInError,id:"standard-username-input",label:"Username",name:"username",value:this.state.username,className:e.textField,autoComplete:"current-username",type:"text",margin:"normal",onChange:this.handleChange}),r.a.createElement(H.a,{error:!!this.props.signInError,id:"standard-password-input",label:"Password",name:"password",value:this.state.password,className:e.textField,type:"password",autoComplete:"current-password",margin:"normal",onChange:this.handleChange}),r.a.createElement("button",{id:"btn-sign-in",style:{display:"none"}},"sdf"),r.a.createElement(X.a,{variant:"contained",color:"primary",className:e.button,onClick:function(e){return document.getElementById("btn-sign-in").click()}},"Sign in"))))}}]),t}(a.Component),te=Object(A.withStyles)(function(e){return{root:Object(w.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},dense:{marginTop:19},menu:{width:200},signInForm:{display:"flex",justifyContent:"center"},button:{margin:e.spacing.unit}}})(q(ee)),ne=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:null},n.handleChange=function(e){n.setState(Object(G.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.props.signUp(n.state.username,n.state.password).catch(function(e){return n.setState({error:e})})},n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.signUpForm},r.a.createElement(T.a,{className:e.root,elevation:1},r.a.createElement("h2",null,"Sign up"),this.state.error&&r.a.createElement("p",null,this.state.error.message),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(H.a,{error:!!this.props.signInError,id:"standard-username-input",label:"Username",name:"username",value:this.state.username,className:e.textField,autoComplete:"new-username",type:"text",margin:"normal",onChange:this.handleChange}),r.a.createElement(H.a,{error:!!this.props.signInError,id:"standard-password-input",label:"Password",name:"password",value:this.state.password,className:e.textField,type:"password",autoComplete:"new-password",margin:"normal",onChange:this.handleChange}),r.a.createElement("button",{id:"btn-sign-up",style:{display:"none"}},"sdf"),r.a.createElement(X.a,{variant:"contained",color:"primary",className:e.button,onClick:function(e){return document.getElementById("btn-sign-up").click()}},"Sign up"))))}}]),t}(a.Component),ae=Object(A.withStyles)(function(e){return{root:Object(w.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},dense:{marginTop:19},menu:{width:200},signUpForm:{display:"flex",justifyContent:"center"},button:{margin:e.spacing.unit}}})(q(ne)),re=(n(469),n(64)),ie=n.n(re),se=n(65),oe=n.n(se),ce=n(43),le=n.n(ce),ue=n(63),he=n.n(ue),pe=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("form",{onSubmit:this.props.handleSelectSubmit},r.a.createElement(ie.a,{className:e.formControl},r.a.createElement(he.a,{htmlFor:"source-country-simple"},"Source Country"),r.a.createElement(oe.a,{value:this.props.selectValue,onChange:this.props.handleSelectChange,inputProps:{name:"Source Country",id:"source-country-simple"}},r.a.createElement(le.a,{value:"us"},"USA"),r.a.createElement(le.a,{value:"pl"},"Poland"),r.a.createElement(le.a,{value:"de"},"Germany"),r.a.createElement(le.a,{value:"gb"},"England"))))}}]),t}(a.Component),me=Object(A.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:120},selectEmpty:{marginTop:2*e.spacing.unit}}})(pe),ge=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[],refreshing:!0,selectValue:"us",signIn:!0},n.handleRefresh=function(){n.setState({articles:[],refreshing:!0},function(){return n.fetchNews()})},n.handleSelectChange=function(e){n.setState({selectValue:e.target.value},n.handleRefresh())},n.handleSelectSubmit=function(e){n.handleRefresh(),e.preventDefault()},n.toggleSignMode=function(e){var t=!n.state.signIn;n.setState({signIn:t})},n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.fetchNews()}},{key:"fetchNews",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null===this.state.selectValue&&this.setState({selectValue:"us"}),e.next=3,f(this.state.selectValue).then(function(e){return t.setState({articles:e,refreshing:!1})}).catch(function(){return t.setState({refreshing:!1})});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return null===this.props.user?!0===this.props.signing?r.a.createElement("div",{className:"loader"}):r.a.createElement("div",{className:e.signing},this.state.signIn?r.a.createElement(te,null):r.a.createElement(ae,null),r.a.createElement(X.a,{variant:"contained",color:this.state.signIn?"primary":"secondary",className:e.button,onClick:this.toggleSignMode},this.state.signIn?"Sign Up":"Sign In")):r.a.createElement(a.Fragment,null,r.a.createElement(K,null),r.a.createElement(me,{handleSelectSubmit:this.handleSelectSubmit,selectValue:this.state.selectValue,handleSelectChange:this.handleSelectChange}),r.a.createElement("p",null,"Signed user: ",this.props.user.email,r.a.createElement("button",{onClick:this.props.signOut},"Sign out")),!0===this.state.refreshing?r.a.createElement("div",{className:"loader"}):r.a.createElement(F,{handleRefresh:this.handleRefresh,articles:this.state.articles}))}}]),t}(a.Component),de=Object(A.withStyles)(function(e){return{button:{margin:e.spacing.unit},signing:{display:"flex",flexDirection:"column",alignItems:"center"}}})(q(ge)),fe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function be(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var we={apiKey:"AIzaSyC9Kqj9nYbZIyLpQOkck80R6ilV5VDOZEY",authDomain:"stronka-z-newsami-i-pogoda.firebaseapp.com",databaseURL:"https://stronka-z-newsami-i-pogoda.firebaseio.com",projectId:"stronka-z-newsami-i-pogoda",storageBucket:"",messagingSenderId:"504518117423"};Q.a.initializeApp(we),s.a.render(r.a.createElement(_,null,r.a.createElement(de,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/newsReact",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/newsReact","/service-worker.js");fe?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):be(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):be(e)})}}()}},[[258,1,2]]]);
//# sourceMappingURL=main.1ead5bec.chunk.js.map